{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport api from '../utils/api';\nimport { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport useFlashMessage from './useFlashMessage';\nexport default function useAuth() {\n  _s();\n\n  const [authenticated, setAuthenticated] = useState(false);\n  const {\n    setFlashMessage\n  } = useFlashMessage();\n  const history = useHistory();\n  useEffect(() => {\n    const token = localStore.getItem('token');\n\n    if (token) {\n      api.defaults.headers.Authorization = `Bearer ${JSON.parse(token)}`;\n      setAuthenticated(true);\n    }\n  }, []);\n}\n\n_s(useAuth, \"wVPDpElFmvJHQhhU5x/ZMREcZwg=\", false, function () {\n  return [useFlashMessage, useHistory];\n});","map":{"version":3,"sources":["C:/Users/rapha/Desktop/Tech People/frontend/src/hooks/useAuth.js"],"names":["api","useState","useEffect","useHistory","useFlashMessage","useAuth","authenticated","setAuthenticated","setFlashMessage","history","token","localStore","getItem","defaults","headers","Authorization","JSON","parse"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,cAAhB;AAEA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AAEA,eAAe,SAASC,OAAT,GAAmB;AAAA;;AAC9B,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCN,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM;AAAEO,IAAAA;AAAF,MAAsBJ,eAAe,EAA3C;AACA,QAAMK,OAAO,GAAGN,UAAU,EAA1B;AAEAD,EAAAA,SAAS,CAAC,MAAM;AAEZ,UAAMQ,KAAK,GAAGC,UAAU,CAACC,OAAX,CAAmB,OAAnB,CAAd;;AAEA,QAAGF,KAAH,EAAU;AACNV,MAAAA,GAAG,CAACa,QAAJ,CAAaC,OAAb,CAAqBC,aAArB,GAAsC,UAASC,IAAI,CAACC,KAAL,CAAWP,KAAX,CAAkB,EAAjE;AACAH,MAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACH;AACJ,GARQ,EAQP,EARO,CAAT;AAUH;;GAfuBF,O;UAEQD,e,EACZD,U","sourcesContent":["import api from '../utils/api'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport useFlashMessage from './useFlashMessage'\r\n\r\nexport default function useAuth() {\r\n    const [authenticated, setAuthenticated] = useState(false)\r\n    const { setFlashMessage } = useFlashMessage()\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n\r\n        const token = localStore.getItem('token')\r\n\r\n        if(token) {\r\n            api.defaults.headers.Authorization = `Bearer ${JSON.parse(token)}`\r\n            setAuthenticated(true)\r\n        }\r\n    },[])\r\n\r\n}"]},"metadata":{},"sourceType":"module"}